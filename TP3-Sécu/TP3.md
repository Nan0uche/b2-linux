1. Guides CIS
ðŸŒž Suivre un guide CIS
2. Conf SSH
ðŸŒž Chiffrement fort cÃ´tÃ© serveur
ðŸŒž ClÃ©s de chiffrement fortes pour le client
ðŸŒž Connectez-vous en SSH Ã  votre VM avec cette paire de clÃ©s
4. DoT
**ðŸŒž Configurer la machine pour qu'elle fasse du DoT :**
```
[nanouche@localhost ~]$ sudo cat /etc/systemd/resolved.conf
[Resolve]
# Some examples of DNS servers which may be used for DNS= and FallbackDNS=:
# Cloudflare: 1.1.1.1#cloudflare-dns.com 1.0.0.1#cloudflare-dns.com 2606:4700:4700::1111#cloudflare-dns.com 2606:4700:4700::1001#cloudflare-dns.com
# Google:     8.8.8.8#dns.google 8.8.4.4#dns.google 2001:4860:4860::8888#dns.google 2001:4860:4860::8844#dns.google
# Quad9:      9.9.9.9#dns.quad9.net 149.112.112.112#dns.quad9.net 2620:fe::fe#dns.quad9.net 2620:fe::9#dns.quad9.net
DNS=1.1.1.1#cloudflare-dns.com
#FallbackDNS=
#Domains=
DNSSEC=allow-downgrade
DNSOverTLS=yes
#MulticastDNS=no
#LLMNR=resolve
#Cache=yes
#CacheFromLocalhost=no
DNSStubListener=yes
#DNSStubListenerExtra=
#ReadEtcHosts=yes
```
```
[nanouche@localhost ~]$ cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 127.0.0.1
```

Lien Symbolique : 
```
sudo ln -sf /run/systemd/resolve/stub-resolv.conf /etc/resolv.conf
```
```
[nanouche@localhost ~]$ sudo systemctl restart systemd-resolved
```

**ðŸŒž Prouvez que les requÃªtes DNS effectuÃ©es par la machine... :**
```
[nanouche@localhost ~]$ dig ynov.com

; <<>> DiG 9.16.23-RH <<>> ynov.com
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 28331
;; flags: qr rd ra; QUERY: 1, ANSWER: 3, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 65494
;; QUESTION SECTION:
;ynov.com.			IN	A

;; ANSWER SECTION:
ynov.com.		175	IN	A	172.67.74.226
ynov.com.		175	IN	A	104.26.11.233
ynov.com.		175	IN	A	104.26.10.233

;; Query time: 209 msec
;; SERVER: 127.0.0.53#53(127.0.0.53)
;; WHEN: Mon Jan 13 15:37:02 CET 2025
;; MSG SIZE  rcvd: 85
```
5. AIDE
ðŸŒž Installer et configurer AIDE
sudo dnf install aide

Fichier de conf
ðŸŒž ScÃ©nario de modification
[nanouche@localhost ~]$ sudo nano /etc/ssh/sshd_config
[nanouche@localhost ~]$ sudo aide --check
Start timestamp: 2025-01-17 15:54:03 +0100 (AIDE 0.16)
AIDE found differences between database and filesystem!!

Summary:
  Total number of entries:	37534
  Added entries:		0
  Removed entries:		0
  Changed entries:		1

---------------------------------------------------
Changed entries:
---------------------------------------------------

f   ...    .C... : /etc/ssh/sshd_config

---------------------------------------------------
Detailed information about changes:
---------------------------------------------------

File: /etc/ssh/sshd_config
  SHA512   : USSfuoNVDa7F7w5txSs25gxlJpZmtq3D | 5SxxIjxxga4BjNFzBFiUnMi42ij+Mbo+
             NgD6mJcl9UgWXJZMks5KWRJDtdR6zSs/ | 1Gi50zLi/FksZoED0tsackjZ6JJtzMOP
             9M91F7gtq+XjCewvWiLOWg==         | HRL+iUzqJ5Nmwrl7kJtOfg==
ðŸŒž Timer et service systemd
Voir service et timer

sudo systemctl daemon-reload

sudo systemctl enable --now aide.timer